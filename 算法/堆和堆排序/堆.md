# 堆

## 二叉堆 Binary Heap

- 二叉堆是一颗完全二叉树

（堆中某个节点的值总是不大于其父节点的值；堆总是一颗完全二叉树）树顶元素最大，最大堆

树顶元素最小，最小堆

用数组存储二叉堆

- 数组的 1 号位为起始。

- 左节点的序列号是父节点的两倍，右节点是父节点的二倍加一
- 

Heapify 的算法复杂的

将n个元素逐个插入到一个空堆中，算法复杂度为 O(n lg n) ；heapify 的过程，算法复杂度为 O(n) 。

## 优先队列



## 为什么使用优先队列



## 优先队列主要操作

### 入队

### 出对（取出优先级最高的元素）

|          | 入队    | 出队    |
| -------- | ------- | ------- |
| 普通数组 | O(1)    | O(n)    |
| 顺序数组 | O(n)    | O(1)    |
| 堆       | O(lg n) | O(lg n) |

## 使用堆实现优先队列

对于总共 **N** 个请求：

- 使用普通数组或顺序数组，最差情况：**O(n ^ 2)** ; 
- 使用堆：**O(n lg n)**

## 原地堆排序







稳定排序：对于相等的元素，在排序后，原来靠前的元素依然靠前，相等的元素的相对位置没有发生改变。

可以通过自定义比较函数，让排序算法不存在稳定性的问题。



## 索引堆 （Index Heap）

相当于堆内部结构有两个数组，一个数组维护堆结构，一个数组维护数据位置。第一个数组存储的是第二个数组的索引值。



### 索引堆的优化  -  反向索引

